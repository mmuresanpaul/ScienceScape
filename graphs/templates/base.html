{% load static %}

<!DOCTYPE html>

<html>
  <head>

    <!-- Import Google Icon Font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"/>
    <!-- Import particlesJS style -->
    <link rel="stylesheet" href="{% static 'css/particlesJS.css' %}">
    <!-- Import noUiSliderJS style-->
    <link rel="stylesheet" href="{% static 'css/nouislider.css' %}">
    <!-- Import Materialize.css -->
    <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css" media="screen,projection"/>
    <!-- Import Dropzone JS style-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.2.0/dropzone.css">
    <!-- Import custom styling CSS -->
    <link rel="stylesheet" href="{% static 'css/extra.css' %}">
    <!-- Import Fontawesome CSS -->
    <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
    <!-- Let browser know website is optimised for mobile -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'favicon/apple-touch-icon.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'favicon/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'favicon/favicon-16x16.png' %}">
    <link rel="manifest" href="{% static 'favicon/site.webmanifest' %}">
    <link rel="mask-icon" href="{% static 'favicon/safari-pinned-tab.svg" color="#229dbf' %}">
    <link rel="shortcut icon" href="{% static 'favicon/favicon.ico' %}">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="{% static 'favicon/browserconfig.xml' %}">
    <meta name="theme-color" content="#ffffff">

    <title>ScienceScapeS - Scientometrics, made easy</title>

  </head>

  <body>

    <!-- Background image -->
    <div id="particles-js"></div>

    <div class="navbar-fixed">

      <!-- NAVIGATION BAR -->
      <nav class="nav-extended">
        <div class="nav-wrapper">
          <!-- Activation link for mobile navigation bar -->
          <a href="#" data-activates="nav-mobile-version" class="button-collapse white-text"><i class="material-icons">menu</i></a>

          <a href="{% url 'home' %}">
            <img class="brand-logo center" src="{% static 'images/sciencescapes-logo-white.png' %}" alt="ScienceScapeS Logo">
          </a>

            <ul class="left hide-on-med-and-down"> <!-- Left Menu -->
              <li><a href="{% url 'upload' up %}" class="btn waves-effect waves-lighten" id="nav-login-btn">Upload</a></li>
            </ul>

            <ul class="right hide-on-med-and-down"> <!-- Right Menu -->
              <li><a href="{% url 'about' %}" class="dropdown-button nav-dropdown waves-effect waves-light" data-activates="dropdown-about">About</a></li> <!-- Dropdown Trigger -->
              <li><a href="https://github.com/wonjoonSeol/ScienceScape/wiki" class="waves-effect waves-light"><i class="material-icons">help</i></a></li>
            </ul>
        </div>

        <div>
            {% block aboutTabbedNavigation %}
            {% endblock aboutTabbedNavigation %}
        </div>

      </nav>
    </div>

    <!-- SIDE NAVIGATION BAR (for small screens) -->
    <div>
      <ul class="side-nav" id="nav-mobile-version">
        <li>
          <div class="user-view" style="height:100px">
            <div class="background valign-wrapper">
              <img src="{% static 'images/vectorised-logo-outline-white.svg' %}" alt="ScienceScape Logo">
            </div>
          </div>
        </li>

        {% if user.is_authenticated %}
        <li class="top-level"><a href="{% url 'home' %}" class="waves-effect waves-light">Home / Upload<i class="material-icons">home</i></a></li>
        {% endif %}

        {% if not user.is_authenticated %}
        <li class="top-level"><a href="{% url 'home' %}" class="waves-effect waves-light">Home / Login<i class="material-icons">home</i></a></li>
        {% endif %}

        {% if user.is_authenticated %}
        <li class="top-level"><a href="/logout" class="waves-effect waves-light">Logout<i class="material-icons">power_settings_new</i></a></li>
        {% endif %}

        {% if not user.is_authenticated %}
        <li class="top-level"><a href="{% url 'upload' guest %}" class="waves-effect waves-light">Upload As Guest<i class="material-icons">file_upload</i></a></li>
        {% endif %}

        <li class="top-level">
          <a href="{% url 'about' guest %}" class="waves-effect waves-light">About<i class="material-icons">info</i></a>
        </li>

        <li class="top-level">
          <a href="https://github.com/wonjoonSeol/ScienceScape/wiki" class="waves-effect waves-light">Help / Wiki<i class="material-icons">help</i></a>
        </li>

      </ul>
    </div>

    {% block Content %}
    {% endblock Content %}

    <!-- FOOTER -->
    <footer class="page-footer">
      <div class="row">

        <h4 class="center">Scientometrics, Reinvented</h4>


        </div>
        <div class="row">
          <div class="col s12 underline footer-description">
            <div class="col s12 m4">
              <div class="center promo">
                <i class="material-icons medium">done_all</i>
                <p class="promo-caption">ScienceScape<sup>S</sup> builds upon scientometrics applications such as ScienceScape, developed by M.Jacomy at the <a href="http://medialab.sciences-po.fr/">Sciences Po Médialab</a>, Paris.</p>
              </div>
            </div>

            <div class="col s12 m4">
              <div class="center promo">
                <i class="material-icons medium">flash_on</i>
                <p class="promo-caption">Our powerful data processing scripts are based on Sebastian Grauwin's work, <a href="http://www.sebastian-grauwin.com">Bibliotools 3.0</a></p>
              </div>
            </div>

            <div class="col s12 m4">
              <div class="center promo">
                <i class="material-icons medium">code</i>
                <p class="promo-caption">For detailed information about this project, visit our <a href="http://github.com/wonjoonSeol/ScienceScape">GitHub Repository</a> and the <a href="{% url 'about' %}">about</a> page.</p>
              </div>
            </div>
        </div>


      </div>

      <div class="footer-copyright">
        <div class="container center">


              <a href="https://www.kcl.ac.uk" class="">
                <img id="kcl-footer" src="{% static 'images/kcl.png' %}"/>
              </a>
              <br>
              <span id="copyright left-align">&copy; 2018 The Codokans, King's College London</span>


        </div>
      </div>
    </footer>


    <!-- ***************
      JAVASCRIPT
     ***************  -->

    <!-- Import jQuery before materialize.js -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>

    <!-- CDN source for particles-js -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>

    <!-- Particles JS Initialisation -->
    <script type="text/javascript">
      particlesJS.load('particles-js',         // Param 1 - div ID
                       '{% static 'json/particles.json' %}',  // Param 2 - JSON settings
                       function () {            // Param 3 - Function to fire after loading JSON
                        console.log('particles.json loaded');
                      });
    </script>

    <!-- Code to execute onÒ page load -->
    <script type="text/javascript">
      $(document).ready(function () {
        $('select').material_select();    //  Initialise form drop down select
        $('.button-collapse').sideNav();  //  Initialise the side navigation on small screens
      });
    </script>

    <!-- Additional Dropown Navigation Initialisation Settings -->
    <script>
    $('.nav-dropdown').dropdown({
      inDuration: 300,
      outDuration: 600,
      constrainWidth: false, // Does not change width of dropdown to that of the activator
      hover: true, // Activate on hover
      gutter: 0, // Spacing from edge
      belowOrigin: true, // Displays dropdown below the button
      alignment: 'left', // Displays dropdown with edge aligned to the left of button
      stopPropagation: false, // Stops event propagation
    });

    </script>

  </body>
</html>
